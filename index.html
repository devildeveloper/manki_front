<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Manki Landing</title>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/foundation.min.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<form method="POST" action="#" class="main">
		<header>
			<div class="row">
				<div class="small-10 small-offset-1 column text-center">
					<div class="logo">
						<picture>
							<source srcset="img/manki_logo_blanco_2x.png" media="(min-width: 40em)">
							<img srcset="img/manki_logo_blanco.png" alt="Manki Logo">
						</picture>
					</div>
					<h1>
						Una nueva forma de <br>
						conocer el mundo <br>
						cuando viajas.
					</h1>
				</div>
			</div>
		</header>
		<section name="about">
			<div class="row">
				<div class="small-3 column">
					<img src="img/manki_exp_guiadas.png" alt="manki experiencias guiadas">
				</div>
				<div class="small-9 medium-7 column end">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam commodi excepturi nihil voluptatem dolore ab nesciunt, neque hic aspernatur illo, architecto temporibus eaque quis nulla sed ducimus fugiat officia fugit.</p>
				</div>
			</div>
			<div class="row">
				<div class="small-8 small-offset-2 medium-5 medium-offset-6 column end text-center">
					<button class="button success expanded" type="button">CONTINUAR</button>
				</div>				
			</div>
		</section>
		<section name="activity">
			<div class="row">
				<div class="small-12 column text-center medium-text-left">
					<picture class="hide-for-small-only">
							<source srcset="img/manki_logo_negro_2x.png" media="(min-width: 64em)">
							<img srcset="img/manki_logo_negro.png"  alt="logo negro">
					</picture>
					
					<h1>¿Qué actividades te apasionan?</h1>
				</div>
				<div class="small-12 column">
					<div class="row">
						<div class="small-12 column">
							<div class="tabs-element">
								<div class="tabs-menu">
									<ul>
										<li>
											<a href="#" data-content="c1" class="active">EXPLORAR</a>
										</li>
										<li class="text-center">
											<a href="#" data-content="c2" >ENSEÑAR</a>
										</li>
										<li class="text-right">
											<a href="#" data-content="c3" >ENTRETENER</a>
										</li>
									</ul>
								</div>
								<div class="tabs-content-element">
									<div class="content show" data-target="c1">
										<div class="row">
											<div class="small-8 column">
												<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae doloremque facere impedit possimus corporis aliquid at alias perferendis tempore ad hic ipsa qui reiciendis modi natus dignissimos id, quis sunt.</p>
											</div>
											<div class="small-4 column">
												<img src="img/carrito.png" alt="">
											</div>
											<div class="small-12 column text-right">
												<button class="button success" type="button" onclick="user.setActivity('explorar')">CONTINUAR</button>
											</div>											
										</div>
									</div>
									<div class="content" data-target="c2">
										<div class="row">
											<div class="small-8 column">
												<p>cats Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae doloremque facere impedit possimus corporis aliquid at alias perferendis tempore ad hic ipsa qui reiciendis modi natus dignissimos id, quis sunt.</p>
											</div>
											<div class="small-4 column">
												<img src="img/carrito.png" alt="">
											</div>
											<div class="small-12 column text-right">
												<button class="button success" type="button" onclick="user.setActivity('enseñar')">CONTINUAR</button>
											</div>											
										</div>
									</div>
									<div class="content" data-target="c3">
										<div class="row">
											<div class="small-8 column">
												<p>dogs Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae doloremque facere impedit possimus corporis aliquid at alias perferendis tempore ad hic ipsa qui reiciendis modi natus dignissimos id, quis sunt.</p>
											</div>
											<div class="small-4 column">
												<img src="img/carrito.png" alt="">
											</div>
											<div class="small-12 column text-right">
												<button class="button success" type="button" onclick="user.setActivity('entretener')">CONTINUAR</button>
											</div>
										</div>
									</div>												
								</div>
							</div>						
						</div>
					</div>
					<div class="row" name="experience-type">
						<div class="small-12 column text-center medium-text-left">
							<picture >
									<source srcset="img/manki_logo_negro_2x.png" media="(min-width: 40em)">
									<img srcset="img/manki_logo_negro.png" alt="logo negro">
							</picture>							
							<h1>
								¿Qué tipo de experiencia <br>
								exploradora te gustaría guiar?
							</h1>
						</div>
						<div class="small-12 column text-center">
							<div class="row list">
								<div class="small-12 medium-4 column item">
									<a href="">Tour por el barrio</a>
								</div>
								<div class="small-12 medium-4 column item">
									<a href="">Día de excursión</a>
								</div>
								<div class="small-12  medium-4 column item">
									<a href="">Tour de comidas y bebidas</a>
								</div>
								<div class="small-12 medium-4 column item">
									<a href="">Tour de arte y diseño</a>
								</div>
								<div class="small-12 medium-4 column item">
									<a href="">Bike tour</a>
								</div>
								<div class="small-12 medium-4 column item active">
									<a href="">Caminata</a>
								</div>
								<div class="small-12 medium-4 medium-offset-8 column item">
									<a href="">Otro</a>
								</div>
							</div>
						</div>
					</div>					
				</div>
			</div>
		</section>
		<section name="instructor-about">
			<div class="row">
				<div class="small-12 column text-center medium-text-left">
					<div class="logo">						
						<picture >
								<source srcset="img/manki_logo_naranja_2x.png" media="(min-width: 40em)">
								<img srcset="img/manki_logo_naranja.png" alt="logo manki rojo">
						</picture>						
					</div>
					<h1>
						Cuéntanos un poco más de la <br>
						experiencia que guiarás
					</h1>
				</div>
			</div>
			<div class="row">
				<div class="small-12 medium-6 column text-center medium-text-left">
					<p class="subtitle">
						¿En qué ciudad te gustaría ofrecer esta experiencia?
					</p>
				</div>
				<div class="small-12 medium-6 column">
					<select name="ciudad" id="">
						<option value="0">Lima</option>
					</select>
				</div>
			</div>
			<div class="row">
				<div class="small-12 medium-6 column text-center medium-text-left">
					<p class="subtitle">
						Cuentanos brevemente sobre cómo será tu experiencia guiada
					</p>
				</div>
				<div class="small-12 medium-6 column">
					<textarea name="desc" placeholder="Ej: Haré un tour por mi barrio, mostrando los lugares que cuentan historias de mi ciudad. Además, invitaré un plato típico.">
					</textarea>
				</div>
			</div>
			<div class="row">
				<div class="small-12 medium-6 column text-center medium-text-left">
					<p class="subtitle">
						¿Qué es lo que más te motiva a ofrecer esta experiencia?
					</p>
				</div>
				<div class="small-12 medium-6 column text-center medium-text-left">
					<select name="motive" id="">
						<option value="0">Conocer gente/hacer amigos</option>
					</select>
				</div>
			</div>
			<div class="row">
				<div class="small-12 medium-6 column text-center medium-text-left">
					<p class="title">Por último, déjanos un correo y un teléfono de contacto.</p>
					<p>El teléfono es opcional, pero nos ayudará a comunicarnos contigo con mayor rapidez.
						Nunca publicaremos tus datos ni los compartiremos con terceros.
					</p>
				</div>
				<div class="small-12 medium-6 column">
					<ul>
						<li>
							<div class="input">
								<div class="clearbox"></div>
								<i class="icon user"></i>
								<input type="text" name="name" required placeholder="Stephen Hawking">
							</div>
						</li>
						<li>
							<div class="input">
								<i class="icon phone"></i>
								<input type="text" name="phone" required placeholder="987 654 321">
							</div>
						</li>
						<li>
							<div class="input">
								<i class="icon email"></i>
								<input type="email" name="mail" required placeholder="algo@ejemplo.com">
							</div>
						</li>
					</ul>
				</div>
				<div class="small-12 text-center">
					<button class="button success" type="submit">ENVIAR</button>
				</div>
			</div>
		</section>
		<footer>
			<div class="row">
				<div class="small-12 column text-center">
					<p>¿Dudas? Escríbenos:</p>
					<p>hola@mankiapp.com</p>
					<div class="logo">
						<picture >
								<source srcset="img/manki_logo_blanco_2x.png" media="(min-width: 40em)">
								<img srcset="img/manki_logo_blanco.png" alt="logo manki blanco">
						</picture>						
					</div>
				</div>
			</div>
		</footer>
	</form>
	<script src="js/picture.min.js"></script>
	<script src="http://www.parsecdn.com/js/parse-latest.js"></script>
	<script>
		Parse.initialize('myAppId')
		Parse.serverURL='http://54.175.72.64:1337/parse';
		function save(){
			var obj = new Parse.Object('GameScore');
			obj.set('score',1332);
			obj.save().then(function(obj) {
				console.log(obj.toJSON());
				var query = new Parse.Query('GameScore');
				query.get(obj.id).then(function(objAgain) {
					console.log(objAgain.toJSON());
				}, function(err) {console.log(err); });
			}, function(err) { console.log(err); });
		}
	</script>
	<script>
		function MankiUser(){
			var activity; // explorar,enseñar,entretener
			var experience;// tour por el barrio,día de excursion, tour de comidas y bebidas,tour de arte y diseño,bike tour,caminata,otro
			var city ; // Lima
			var aboutExperience;
			var motive; // conocer gente/hacer amigos
			var contact
			return {
				setActivity:function(str){
					this.activity = str
				}
				,setExperience:function(str){
					this.experience = str
				}
				,setCity:function(str){
					this.city=str;
				}
				,setAbout:function(str){
					this.aboutExperience = str;
				}
				,setMotive:function(str){
					this.motive=str;
				}
				,setContact:function(n,p,m){
					this.contact={
						name  : n
						,phone : p
						,mail  : m
					}
				}				
				,getAll:function(){
					return{
						activity:this.activity
						,experience:this.experience
						,city:this.city
						,about:this.aboutExperience
						,motive:this.motive
						,contact:this.contact
					}
				}
			}
		}
		var user = new MankiUser();
		addEventListener("load",function(){
			var links= document.getElementsByTagName("a");
			for (var i=0;i<links.length;i++){
				links[i].addEventListener("click",function(e){
					e.preventDefault();
				})
			}
		});	
		var experiencesType =document.querySelectorAll('.item');
		[].forEach.call(experiencesType,function(item){
			item.addEventListener('click',function(){
				user.setExperience(this.textContent);
				var i =document.querySelectorAll('.item');
				[].forEach.call(i,function(item){
					item.setAttribute('class','small-12 medium-4 column item')
				});
				this.setAttribute('class','small-12 medium-4 column item active')
			})
		})	
		
		var li =document.querySelectorAll('.tabs-menu li a');
		[].forEach.call(li,function(item){
			item.addEventListener('click',function(){
				var i =document.querySelectorAll('.tabs-menu li a');
				[].forEach.call(i,function(item){
					item.setAttribute('class','')
				});
				document.querySelector('.content.show').setAttribute('class','content')
				var target = this.getAttribute('data-content');
				document.querySelector('[data-target="'+target+'"]').setAttribute('class','content show')
				this.setAttribute('class','active');
			})
		})		
		
		function setCity(){
			user.setCity(document.querySelector('select[name="ciudad"]').options.selectedIndex);
		}
		function setAbout(){
			user.setAbout(document.querySelector('textarea').value.trim());
		}
		function setMotive(){
			user.setMotive(document.querySelector('select[name="motive"]').options.selectedIndex);
		}
		function setContact(){
			var name = document.querySelector('input[name="name"]').value.trim();
			var phone = document.querySelector('input[name="phone"]').value.trim()
			var email = document.querySelector('input[name="mail"]').value.trim()
			user.setContact(name,phone,email);
		}
		function prepareForm(e){
			e.preventDefault();
			setCity();
			setAbout();
			setMotive();
			setContact();
			saveUser();
		}	
		function saveUser(){
			var MankiUser = Parse.Object.extend("MankiUser");
			var token = new MankiUser();

			token.save(user.getAll(), {
			success: function(u) {
				// Execute any logic that should take place after the object is saved.
				//alert('New object created with objectId: ' + gameScore.id);
				console.log(u)
				alert('Gracias por registrarte');
			},
			error: function(gameScore, error) {
				// Execute any logic that should take place if the save fails.
				// error is a Parse.Error with an error code and message.
				console.log(error.message);
			}
			});			
		}
		document.querySelector('form').addEventListener('submit',prepareForm);	
	</script>
</body>
</html>